@custom-variant dark (&:where(.dark, .dark *));
@import "tailwindcss";

/* Hide scrollbar but still allow scrolling */
::-webkit-scrollbar {
    display: none;
}

* {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

/* Accessibility styles */
@layer utilities {
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

    .focus-visible\:outline-none:focus-visible {
        outline: none;
    }

    .focus-visible\:ring-2:focus-visible {
        --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0
            var(--tw-ring-offset-width) var(--tw-ring-offset-color);
        --tw-ring-shadow: var(--tw-ring-inset) 0 0 0
            calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
        box-shadow:
            var(--tw-ring-offset-shadow), var(--tw-ring-shadow),
            var(--tw-shadow, 0 0 #0000);
    }

    .focus-visible\:ring-purple-500:focus-visible {
        --tw-ring-color: rgb(168 85 247);
    }

    .focus-visible\:ring-offset-2:focus-visible {
        --tw-ring-offset-width: 2px;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    * {
        border-color: currentColor !important;
    }

    button,
    input,
    select,
    textarea {
        border-width: 2px !important;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* Custom focus styles for better accessibility */
.focus-visible {
    outline: 2px solid #8b5cf6;
    outline-offset: 2px;
}

/* Skip link styles */
.skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: #000;
    color: #fff;
    padding: 8px;
    text-decoration: none;
    z-index: 10000;
    border-radius: 4px;
}

.skip-link:focus {
    top: 6px;
}

/* Enhanced focus styles for all focusable elements */
[tabindex]:focus,
button:focus,
a:focus,
input:focus,
select:focus,
textarea:focus {
    outline: 2px solid #8b5cf6 !important;
    outline-offset: 2px !important;
    border-radius: 4px;
}

/* Focus styles for headings and text elements */
h1:focus,
h2:focus,
h3:focus,
p:focus,
div[role="text"]:focus,
div[role="heading"]:focus {
    outline: 2px solid #8b5cf6 !important;
    outline-offset: 2px !important;
    border-radius: 4px;
    background-color: rgba(139, 92, 246, 0.1) !important;
}

/* Focus styles for lists */
[role="list"]:focus,
[role="listitem"]:focus {
    outline: 2px solid #8b5cf6 !important;
    outline-offset: 2px !important;
    border-radius: 4px;
    background-color: rgba(139, 92, 246, 0.1) !important;
}

/* Focus styles for status elements */
[role="status"]:focus {
    outline: 2px solid #8b5cf6 !important;
    outline-offset: 2px !important;
    border-radius: 4px;
    background-color: rgba(139, 92, 246, 0.1) !important;
}

/* Focus styles for progress bars */
[role="progressbar"]:focus {
    outline: 2px solid #8b5cf6 !important;
    outline-offset: 2px !important;
    border-radius: 4px;
    background-color: rgba(139, 92, 246, 0.1) !important;
}

/* Ensure all focusable elements are visible when focused */
*:focus {
    outline: 2px solid #8b5cf6 !important;
    outline-offset: 2px !important;
}

/* Remove focus outline for mouse users but keep for keyboard */
*:focus:not(:focus-visible) {
    outline: none !important;
}

/* High contrast focus styles */
@media (prefers-contrast: high) {
    *:focus {
        outline: 3px solid #000 !important;
        outline-offset: 2px !important;
    }
}
